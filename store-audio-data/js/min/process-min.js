function makeArray(e){if(void 0==n)var n=[e];else n.push(e);return n}function render(){return storeData(),$loop=requestAnimationFrame(render)}function storeData(){analyser.getByteFrequencyData(realtimeData);for(var e=[],n=0;n<realtimeData.length;n++)e.push(realtimeData[n]);$audioData.push(e)}var context;"undefined"!=typeof AudioContext?context=new AudioContext:"undefined"!=typeof webkitAudioContext&&(context=new webkitAudioContext);for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var t=(new Date).getTime(),a=Math.max(0,16-(t-lastTime)),o=window.setTimeout(function(){e(t+a)},a);return lastTime=t+a,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e),$time=0});var context;"undefined"!=typeof AudioContext?context=new AudioContext:"undefined"!=typeof webkitAudioContext&&(context=new webkitAudioContext);var $audioData=new Array,group,currCount=0,$max=10,onScreen=[],$player=$("#player"),$player_src=$player.get(0);$player_src.round_duration=Math.round($player_src.duration);var $head_navi=$(".audio-navi"),$timeline=$(".time"),$duration=$player_src.duration,$timeLineWidth=$head_navi.width()-100,analyser=context.createAnalyser();analyser.fftSize=64;var realtimeData=new Uint8Array(analyser.frequencyBinCount),source=context.createMediaElementSource($("#player").get(0));source.connect(analyser),analyser.connect(context.destination);var $data=[];$player.on({canplay:function(){},timeupdate:function(e){},play:function(){$loop=render(),console.log("Wait for the data to be processed...")},pause:function(){console.log("paused",$audioData)},ended:function(){$(".play").removeClass("on").addClass("off"),console.group("Ended\n \nHave a look at \nhttp://bgrins.github.io/devtools-snippets/#console-save\nand get the snippet for chrome dev tools to save the data!\n \nCAUTION: You have to enable snippets by \nhttp://stackoverflow.com/questions/10470711/chrome-developer-tools-what-is-snippets-support\n \n1. run the snippet\n \n",'**************************************************\nFOR USE IN CODEPEN\nSwitch "<top frame>" to "Codepen( index.html)"\n**************************************************\n \nStore this Array as *global variable*\n',$audioData,"\n \nright click----save as global variable----console.save(temp1)"),console.groupEnd()}}),$head_navi.find(".play").bind({click:function(){$player_src.paused?($(this).removeClass("off").addClass("on"),$player_src.play()):($(this).removeClass("on").addClass("off"),$player_src.pause())}});